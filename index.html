<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Protocolo Neon | Build</title>
    <!-- Google Fonts: Montserrat para ese look deportivo y robusto -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #050505;
            --card-bg: #111111;
            --neon-blue: #3b82f6; /* Azul vibrante de la imagen */
            --neon-glow: rgba(59, 130, 246, 0.5);
            --text-main: #ffffff;
            --text-dim: #888888;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
        }

        /* Contenedor estilo App Movil */
        .app-container {
            width: 100%;
            max-width: 450px;
            min-height: 100vh;
            position: relative;
            padding: 20px;
            padding-bottom: 100px; /* Espacio para el nav inferior */
        }

        /* --- ESTILOS DE LOGIN (Cyberpunk) --- */
        .view { display: none; opacity: 0; animation: fadeIn 0.5s forwards; }
        .view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .auth-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 24px;
            border: 1px solid #222;
            text-align: center;
            margin-top: 40px;
        }

        h1 { font-weight: 900; font-size: 1.8rem; text-transform: uppercase; letter-spacing: -1px; margin: 10px 0; }
        .neon-text { color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-glow); }
        p { color: var(--text-dim); font-size: 0.9rem; line-height: 1.4; }

        .input-group { margin-bottom: 15px; position: relative; }
        input {
            width: 100%;
            padding: 15px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            color: white;
            font-family: inherit;
            transition: var(--transition);
        }
        input:focus { border-color: var(--neon-blue); outline: none; box-shadow: 0 0 10px var(--neon-glow); }

        button {
            width: 100%;
            padding: 16px;
            background: var(--neon-blue);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }
        button:active { transform: scale(0.98); }
        button.secondary { background: transparent; border: 1px solid #333; color: var(--text-dim); }
        
        /* --- ESTILOS INTERFAZ PRINCIPAL (SEG칔N IMAGEN) --- */
        .header-label { font-size: 0.7rem; color: var(--neon-blue); font-weight: 700; letter-spacing: 3px; text-transform: uppercase; opacity: 0.8; }
        
        /* Selector de Semanas */
        .section-title { font-size: 0.8rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; margin: 25px 0 15px 0; display: flex; justify-content: space-between;}
        
        .week-slider {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: none;
        }
        .week-slider::-webkit-scrollbar { display: none; }
        
        .week-card {
            min-width: 70px;
            height: 85px;
            background: var(--card-bg);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid #222;
            cursor: pointer;
        }
        .week-card.active {
            background: var(--neon-blue);
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-glow);
        }
        .week-card span { font-size: 0.6rem; text-transform: uppercase; font-weight: 700; }
        .week-card strong { font-size: 1.4rem; font-weight: 900; }

        /* Tarjetas de Rutina (Exactas a la imagen) */
        .routine-card {
            width: 100%;
            height: 220px;
            background-size: cover;
            background-position: center;
            border-radius: 25px;
            position: relative;
            margin-bottom: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .routine-card::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0; height: 100%;
            background: linear-gradient(0deg, rgba(0,0,0,0.8) 0%, transparent 100%);
            z-index: 1;
        }
        .badge {
            position: absolute;
            top: 20px; left: 20px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 5px 12px;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            z-index: 2;
        }
        .routine-info { z-index: 2; }
        .routine-info h2 { margin: 0; font-weight: 900; font-size: 1.5rem; text-transform: uppercase; font-style: italic; }
        .routine-info p { margin: 0; color: var(--neon-blue); font-weight: 700; font-size: 0.8rem; text-transform: uppercase; }

        /* Barra de Navegaci칩n Inferior */
        .nav-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(20px);
            height: 70px;
            border-radius: 35px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.05);
            z-index: 100;
        }
        .nav-item {
            color: var(--text-dim);
            text-align: center;
            font-size: 0.6rem;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .nav-item svg { width: 22px; height: 22px; margin-bottom: 4px; }
        .nav-item.active { color: var(--text-main); }
        .nav-item.active .icon-box {
            background: var(--neon-blue);
            color: white;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 0 15px var(--neon-glow);
            transform: translateY(-15px);
        }

        /* Utilidades */
        .loading-spinner { display: none; margin: 10px auto; width: 30px; height: 30px; border: 3px solid rgba(255,255,255,0.1); border-top-color: var(--neon-blue); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .error-box { background: #441111; color: #ff6666; padding: 10px; border-radius: 10px; font-size: 0.8rem; margin-top: 10px; display: none; }
    </style>
</head>
<body>

<div class="app-container">
    
    <!-- VISTA: LOGIN -->
    <div id="view-login" class="view active">
        <div class="header-label" style="text-align:center">BIO-PERFORMANCE HUB</div>
        <div class="auth-card">
            <h1>PROTOCOLO <span class="neon-text">NEON</span></h1>
            <p>Ingresa a tu centro de alto rendimiento.</p>
            <div class="input-group">
                <input type="email" id="login-email" placeholder="Email">
            </div>
            <div class="input-group">
                <input type="password" id="login-pass" placeholder="Contrase침a">
            </div>
            <button onclick="handleLogin()">Entrar al Sistema</button>
            <button class="secondary" onclick="nav('view-register')">Solicitar Acceso</button>
            <div id="login-load" class="loading-spinner"></div>
            <div id="login-msg" class="error-box"></div>
        </div>
    </div>

    <!-- VISTA: REGISTRO -->
    <div id="view-register" class="view">
        <div class="auth-card">
            <h1>UNIRSE AL <span class="neon-text">ELITE</span></h1>
            <p>Crea tu perfil y comienza la transformaci칩n.</p>
            <div class="input-group">
                <input type="email" id="reg-email" placeholder="Tu Email">
            </div>
            <div class="input-group">
                <input type="password" id="reg-pass" placeholder="Crea tu Contrase침a">
            </div>
            <button onclick="handleRegister()">Pagar y Activar</button>
            <button class="secondary" onclick="nav('view-login')">Ya tengo cuenta</button>
            <div id="reg-load" class="loading-spinner"></div>
            <div id="reg-msg" class="error-box"></div>
        </div>
    </div>

    <!-- SECCI칍N: INICIO -->
    <div id="sec-inicio" class="view">
        <div class="header-label">BIENVENIDO DE VUELTA</div>
        <h1 id="user-display">ATLETA NEON</h1>
        
        <div class="routine-card" style="background-image: url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=500'); height: 160px;">
            <div class="badge" style="background: var(--neon-blue);">TU PROGRESO</div>
            <div class="routine-info">
                <h2>Racha de 12 d칤as</h2>
                <p>Nivel: Intermedio Pro</p>
            </div>
        </div>

        <div class="section-title">RESUMEN SEMANAL</div>
        <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; border: 1px solid #222;">
            <div style="display:flex; justify-content: space-between; align-items:center;">
                <div>
                    <span style="color:var(--text-dim); font-size: 0.7rem;">CALOR칈AS HOY</span>
                    <div style="font-size: 1.5rem; font-weight: 900;">2,450 <small style="font-size: 0.7rem; color: var(--neon-blue);">kcal</small></div>
                </div>
                <div style="width: 50px; height: 50px; border: 4px solid var(--neon-blue); border-radius: 50%; display:flex; align-items:center; justify-content:center; font-size: 0.7rem; font-weight: 700;">80%</div>
            </div>
        </div>
    </div>

    <!-- SECCI칍N: ENTRENAR (SEG칔N IMAGEN) -->
    <div id="sec-entrenar" class="view">
        <div class="header-label">BIO-PERFORMANCE HUB</div>
        <h1>PROTOCOLO <span class="neon-text">NEON</span> BUILD</h1>
        
        <div class="section-title">
            <span>PLANIFICACI칍N POR SEMANAS</span>
            <span style="color: var(--neon-blue); font-size: 0.7rem;">MESOCICLO 1</span>
        </div>

        <div class="week-slider">
            <div class="week-card active"><span>SEM</span><strong>01</strong></div>
            <div class="week-card"><span>SEM</span><strong>02</strong></div>
            <div class="week-card"><span>SEM</span><strong>03</strong></div>
            <div class="week-card"><span>SEM</span><strong>04</strong></div>
            <div class="week-card"><span>SEM</span><strong>05</strong></div>
            <div class="week-card"><span>SEM</span><strong>06</strong></div>
        </div>

        <div id="routine-container" style="margin-top: 20px;">
            <!-- Las tarjetas se cargan v칤a JS -->
        </div>
    </div>

    <!-- SECCI칍N: BIBLIOTECA -->
    <div id="sec-biblioteca" class="view">
        <div class="header-label">CONOCIMIENTO</div>
        <h1>BIBLIOTECA <span class="neon-text">EJERCICIOS</span></h1>
        <input type="text" placeholder="游댌 Buscar ejercicio..." style="margin-bottom: 20px;" onkeyup="filterExercises(this.value)">
        <div id="exercise-list">
            <!-- Mock data -->
            <div class="week-card" style="width:100%; height: auto; padding: 15px; flex-direction: row; justify-content: start; gap: 15px; margin-bottom: 10px;">
                <div style="width: 50px; height: 50px; background: #333; border-radius: 10px;"></div>
                <div style="text-align: left;">
                    <div style="font-weight: 700; font-size: 0.9rem;">Sentadilla B칰lgara</div>
                    <div style="font-size: 0.7rem; color: var(--neon-blue);">PIERNAS / HIPERTROFIA</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SECCI칍N: NUTRICI칍N -->
    <div id="sec-nutricion" class="view">
        <div class="header-label">COMBUSTIBLE</div>
        <h1>CALCULADORA <span class="neon-text">MACROS</span></h1>
        <div class="auth-card" style="margin-top: 10px; text-align: left;">
            <p>Calcula tus necesidades diarias:</p>
            <input type="number" id="calc-weight" placeholder="Peso (kg)" style="margin-bottom: 10px;">
            <select id="calc-activity" style="width: 100%; padding: 15px; background: #1a1a1a; border: 1px solid #333; border-radius: 12px; color: white; margin-bottom: 15px;">
                <option value="1.2">Sedentario</option>
                <option value="1.5">Moderado (3-5 d칤as)</option>
                <option value="1.8">Intenso (Atleta)</option>
            </select>
            <button onclick="calculateMacros()">Calcular Ahora</button>
            <div id="macro-result" style="margin-top: 20px; font-weight: 900; color: var(--neon-blue); font-size: 1.2rem; text-align: center;"></div>
        </div>
    </div>

    <!-- SECCI칍N: PERFIL -->
    <div id="sec-perfil" class="view">
        <div class="header-label">CONFIGURACI칍N</div>
        <h1>TU <span class="neon-text">PERFIL</span></h1>
        <div class="auth-card" style="margin-top: 10px;">
            <div style="width: 80px; height: 80px; background: var(--neon-blue); border-radius: 50%; margin: 0 auto 15px auto; display: flex; align-items:center; justify-content:center; font-size: 2rem; font-weight: 900;">A</div>
            <p id="profile-email">atleta@neon.com</p>
            <button class="secondary" onclick="logout()" style="border-color: #ff4444; color: #ff4444;">Cerrar Sesi칩n Segura</button>
        </div>
    </div>

    <!-- NAV BAR INFERIOR (Solo visible cuando logueado) -->
    <nav class="nav-bar" id="main-nav" style="display: none;">
        <div class="nav-item active" onclick="showSection('sec-inicio', this)">
            <div class="icon-box"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg></div>
            <span>Inicio</span>
        </div>
        <div class="nav-item" onclick="showSection('sec-entrenar', this)">
            <div class="icon-box"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14 4.14 5.57 2 7.71 3.43 9.14 2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22 14.86 20.57 17 18.43 19.14 19.86 20.57 18.43 22 17 20.57 14.86z"/></svg></div>
            <span>Entrenar</span>
        </div>
        <div class="nav-item" onclick="showSection('sec-biblioteca', this)">
            <div class="icon-box"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg></div>
            <span>Biblio</span>
        </div>
        <div class="nav-item" onclick="showSection('sec-nutricion', this)">
            <div class="icon-box"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"/></svg></div>
            <span>Nutri</span>
        </div>
        <div class="nav-item" onclick="showSection('sec-perfil', this)">
            <div class="icon-box"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg></div>
            <span>Perfil</span>
        </div>
    </nav>

</div>

<script>
    // ==========================================
    // CONFIGURACI칍N (EDITABLE POR EL CLIENTE)
    // ==========================================
    const SCRIPT_URL = "SUSTITUIR_TU_URL_AQUI"; // Google Apps Script
    const STRIPE_LINK = "SUSTITUIR_TU_LINK_AQUI"; // Enlace de pago

    // Mock de Rutinas para loadRoutines()
    const MOCK_ROUTINES = [
        { id: 1, title: "LEG DAY PRO", sub: "RUTINAS DE PIERNAS", img: "https://images.unsplash.com/photo-1581009146145-b5ef03a7403f?q=80&w=500", badge: "RECOMENDADO" },
        { id: 2, title: "PULL DAY NEON", sub: "ESPALDA Y BICEPS", img: "https://images.unsplash.com/photo-1526506118085-60ce8714f8c5?q=80&w=500", badge: "FUERZA" },
        { id: 3, title: "CORE & HIIT", sub: "RESISTENCIA", img: "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=500", badge: "QUEMA" }
    ];

    // --- NAVEGACI칍N ---
    function nav(viewId) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(viewId).classList.add('active');
        window.scrollTo(0,0);
    }

    function showSection(secId, el) {
        nav(secId);
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        el.classList.add('active');
        if(secId === 'sec-entrenar') loadRoutines();
    }

    // --- L칍GICA DE NEGOCIO ---
    async function handleLogin() {
        const email = document.getElementById('login-email').value;
        const pass = document.getElementById('login-pass').value;
        const msg = document.getElementById('login-msg');
        const load = document.getElementById('login-load');

        if(!email || !pass) return;
        
        load.style.display = 'block';
        msg.style.display = 'none';

        // Simulamos petici칩n (Integrar con tu SCRIPT_URL)
        setTimeout(() => {
            load.style.display = 'none';
            // Simulaci칩n 칠xito:
            localStorage.setItem('neon_session', email);
            onLoginSuccess(email);
        }, 1500);
    }

    function onLoginSuccess(email) {
        document.getElementById('main-nav').style.display = 'flex';
        document.getElementById('profile-email').innerText = email;
        document.getElementById('user-display').innerText = email.split('@')[0].toUpperCase();
        showSection('sec-inicio', document.querySelector('.nav-item'));
    }

    function loadRoutines() {
        const container = document.getElementById('routine-container');
        container.innerHTML = '';
        
        MOCK_ROUTINES.forEach(r => {
            container.innerHTML += `
                <div class="routine-card" style="background-image: url('${r.img}')">
                    <div class="badge">${r.badge}</div>
                    <div class="routine-info">
                        <h2>${r.title}</h2>
                        <p>${r.sub}</p>
                    </div>
                </div>
            `;
        });
    }

    function calculateMacros() {
        const weight = document.getElementById('calc-weight').value;
        const factor = document.getElementById('calc-activity').value;
        const res = document.getElementById('macro-result');
        
        if(!weight) return;
        const cals = Math.round(weight * 22 * factor);
        res.innerHTML = `OBJETIVO ESTIMADO:<br>${cals} kcal/d칤a`;
    }

    function logout() {
        localStorage.removeItem('neon_session');
        location.reload();
    }

    // Al cargar
    window.onload = () => {
        const session = localStorage.getItem('neon_session');
        if(session) onLoginSuccess(session);
    };

    function handleRegister() {
        window.location.href = STRIPE_LINK;
    }
</script>

</body>
</html>
